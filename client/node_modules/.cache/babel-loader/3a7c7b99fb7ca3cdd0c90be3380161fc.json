{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/Paul/practice/reactJS/people-boats-boilerplate-antd/client/src/components/buttons/RemovePerson.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useMutation } from '@apollo/client';\nimport { filter } from 'lodash';\nimport { GET_PEOPLE, REMOVE_PERSON } from '../../queries';\nimport { DeleteOutlined } from '@ant-design/icons';\n\nconst RemovePerson = ({\n  id,\n  firstName,\n  lastName\n}) => {\n  _s();\n\n  const [removePerson] = useMutation(REMOVE_PERSON, {\n    update(proxy, {\n      data: {\n        removePerson\n      }\n    }) {\n      const {\n        people\n      } = proxy.readQuery({\n        query: GET_PEOPLE\n      });\n      proxy.writeQuery({\n        query: GET_PEOPLE,\n        data: {\n          people: filter(people, c => {\n            return c.id !== removePerson.id;\n          })\n        }\n      });\n    }\n\n  });\n\n  const handleButtonClick = () => {\n    let result = window.confirm('Are you sure you want to delete this person?');\n\n    if (result) {\n      removePerson({\n        variables: {\n          id\n        },\n        optimisticResponse: {\n          __typename: 'Mutation',\n          removePerson: {\n            __typename: 'Person',\n            id,\n            firstName,\n            lastName\n          }\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(DeleteOutlined, {\n    onClick: handleButtonClick,\n    style: {\n      color: 'red'\n    }\n  }, 'delete', false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n\n_s(RemovePerson, \"QkIyjTE+l/6CPpjkc6zit4gPuwo=\", false, function () {\n  return [useMutation];\n});\n\n_c = RemovePerson;\nexport default RemovePerson;\n\nvar _c;\n\n$RefreshReg$(_c, \"RemovePerson\");","map":{"version":3,"sources":["/Users/Paul/practice/reactJS/people-boats-boilerplate-antd/client/src/components/buttons/RemovePerson.js"],"names":["React","useMutation","filter","GET_PEOPLE","REMOVE_PERSON","DeleteOutlined","RemovePerson","id","firstName","lastName","removePerson","update","proxy","data","people","readQuery","query","writeQuery","c","handleButtonClick","result","window","confirm","variables","optimisticResponse","__typename","color"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,gBAA5B;AACA,SAASC,MAAT,QAAuB,QAAvB;AACA,SAASC,UAAT,EAAqBC,aAArB,QAA0C,eAA1C;AACA,SAASC,cAAT,QAA+B,mBAA/B;;AAEA,MAAMC,YAAY,GAAG,CAAC;AAAEC,EAAAA,EAAF;AAAMC,EAAAA,SAAN;AAAiBC,EAAAA;AAAjB,CAAD,KAAiC;AAAA;;AACpD,QAAM,CAACC,YAAD,IAAiBT,WAAW,CAACG,aAAD,EAAgB;AAChDO,IAAAA,MAAM,CAACC,KAAD,EAAQ;AAAEC,MAAAA,IAAI,EAAE;AAAEH,QAAAA;AAAF;AAAR,KAAR,EAAoC;AACxC,YAAM;AAAEI,QAAAA;AAAF,UAAaF,KAAK,CAACG,SAAN,CAAgB;AAAEC,QAAAA,KAAK,EAAEb;AAAT,OAAhB,CAAnB;AACAS,MAAAA,KAAK,CAACK,UAAN,CAAiB;AACfD,QAAAA,KAAK,EAAEb,UADQ;AAEfU,QAAAA,IAAI,EAAE;AACJC,UAAAA,MAAM,EAAEZ,MAAM,CAACY,MAAD,EAASI,CAAC,IAAI;AAC1B,mBAAOA,CAAC,CAACX,EAAF,KAASG,YAAY,CAACH,EAA7B;AACD,WAFa;AADV;AAFS,OAAjB;AAQD;;AAX+C,GAAhB,CAAlC;;AAaA,QAAMY,iBAAiB,GAAG,MAAM;AAC9B,QAAIC,MAAM,GAAGC,MAAM,CAACC,OAAP,CAAe,8CAAf,CAAb;;AACA,QAAIF,MAAJ,EAAY;AACVV,MAAAA,YAAY,CAAC;AACXa,QAAAA,SAAS,EAAE;AACThB,UAAAA;AADS,SADA;AAIXiB,QAAAA,kBAAkB,EAAE;AAClBC,UAAAA,UAAU,EAAE,UADM;AAElBf,UAAAA,YAAY,EAAE;AACZe,YAAAA,UAAU,EAAE,QADA;AAEZlB,YAAAA,EAFY;AAGZC,YAAAA,SAHY;AAIZC,YAAAA;AAJY;AAFI;AAJT,OAAD,CAAZ;AAcD;AACF,GAlBD;;AAmBA,sBACE,QAAC,cAAD;AAEE,IAAA,OAAO,EAAEU,iBAFX;AAGE,IAAA,KAAK,EAAE;AAAEO,MAAAA,KAAK,EAAE;AAAT;AAHT,KACM,QADN;AAAA;AAAA;AAAA;AAAA,UADF;AAOD,CAxCD;;GAAMpB,Y;UACmBL,W;;;KADnBK,Y;AA0CN,eAAeA,YAAf","sourcesContent":["import React from 'react'\nimport { useMutation } from '@apollo/client'\nimport { filter } from 'lodash'\nimport { GET_PEOPLE, REMOVE_PERSON } from '../../queries'\nimport { DeleteOutlined } from '@ant-design/icons'\n\nconst RemovePerson = ({ id, firstName, lastName }) => {\n  const [removePerson] = useMutation(REMOVE_PERSON, {\n    update(proxy, { data: { removePerson } }) {\n      const { people } = proxy.readQuery({ query: GET_PEOPLE })\n      proxy.writeQuery({\n        query: GET_PEOPLE,\n        data: {\n          people: filter(people, c => {\n            return c.id !== removePerson.id\n          })\n        }\n      })\n    }\n  })\n  const handleButtonClick = () => {\n    let result = window.confirm('Are you sure you want to delete this person?')\n    if (result) {\n      removePerson({\n        variables: {\n          id\n        },\n        optimisticResponse: {\n          __typename: 'Mutation',\n          removePerson: {\n            __typename: 'Person',\n            id,\n            firstName,\n            lastName\n          }\n        }\n      })\n    }\n  }\n  return (\n    <DeleteOutlined\n      key='delete'\n      onClick={handleButtonClick}\n      style={{ color: 'red' }}\n    />\n  )\n}\n\nexport default RemovePerson\n"]},"metadata":{},"sourceType":"module"}