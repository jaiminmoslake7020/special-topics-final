{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Applications/MAMP/htdocs/capstone/people-boats-boilerplate-antd/client/src/components/forms/UpdatePerson.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useMutation } from '@apollo/client';\nimport { Form, Input, Button } from 'antd';\nimport { UPDATE_PERSON } from '../../queries';\n\nconst UpdatePerson = props => {\n  _s();\n\n  const [id] = useState(props.id);\n  const [firstName, setFirstName] = useState(props.firstName);\n  const [lastName, setLastName] = useState(props.lastName);\n  const [updatePerson] = useMutation(UPDATE_PERSON);\n  const [form] = Form.useForm();\n  const [, forceUpdate] = useState();\n  useEffect(() => {\n    forceUpdate({});\n  }, []);\n\n  const onFinish = values => {\n    const {\n      firstName,\n      lastName\n    } = values;\n    updatePerson({\n      variables: {\n        id,\n        firstName,\n        lastName\n      },\n      optimisticResponse: {\n        __typename: 'Mutation',\n        updatePerson: {\n          __typename: 'Person',\n          id,\n          firstName,\n          lastName\n        }\n      }\n    });\n    props.onButtonClick();\n  };\n\n  const updateStateVariable = (variable, value) => {\n    switch (variable) {\n      case 'firstName':\n        props.updateStateVariable('firstName', value);\n        setFirstName(value);\n        break;\n\n      case 'lastName':\n        props.updateStateVariable('lastName', value);\n        setLastName(value);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Form, {\n    form: form,\n    name: \"update-person-form\",\n    layout: \"inline\",\n    onFinish: onFinish,\n    initialValues: {\n      firstName: firstName,\n      lastName: lastName\n    },\n    size: \"large\",\n    children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n      name: \"firstName\",\n      label: \"First Name\",\n      rules: [{\n        required: true,\n        message: 'Please input your first name!'\n      }],\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"i.e. John\",\n        onChange: e => updateStateVariable('firstName', e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      name: \"lastName\",\n      label: \"Last Name\",\n      rules: [{\n        required: true,\n        message: 'Please input your last name!'\n      }],\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"i.e. Smith\",\n        onChange: e => updateStateVariable('lastName', e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      shouldUpdate: true,\n      children: () => /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        disabled: !form.isFieldTouched('firstName') && !form.isFieldTouched('lastName') || form.getFieldsError().filter(({\n          errors\n        }) => errors.length).length,\n        children: \"Update Person\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: props.onButtonClick,\n      children: \"Cancel\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UpdatePerson, \"GxlMDV50y1jxR8b4IXsUPwx+djA=\", false, function () {\n  return [useMutation, Form.useForm];\n});\n\n_c = UpdatePerson;\nexport default UpdatePerson;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdatePerson\");","map":{"version":3,"sources":["/Applications/MAMP/htdocs/capstone/people-boats-boilerplate-antd/client/src/components/forms/UpdatePerson.js"],"names":["React","useEffect","useState","useMutation","Form","Input","Button","UPDATE_PERSON","UpdatePerson","props","id","firstName","setFirstName","lastName","setLastName","updatePerson","form","useForm","forceUpdate","onFinish","values","variables","optimisticResponse","__typename","onButtonClick","updateStateVariable","variable","value","required","message","e","target","isFieldTouched","getFieldsError","filter","errors","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useMutation } from '@apollo/client'\nimport { Form, Input, Button } from 'antd'\nimport { UPDATE_PERSON } from '../../queries'\n\nconst UpdatePerson = props => {\n  const [id] = useState(props.id)\n  const [firstName, setFirstName] = useState(props.firstName)\n  const [lastName, setLastName] = useState(props.lastName)\n  const [updatePerson] = useMutation(UPDATE_PERSON)\n\n  const [form] = Form.useForm()\n  const [, forceUpdate] = useState()\n\n  useEffect(() => {\n    forceUpdate({})\n  }, [])\n\n  const onFinish = values => {\n    const { firstName, lastName } = values\n    updatePerson({\n      variables: {\n        id,\n        firstName,\n        lastName\n      },\n      optimisticResponse: {\n        __typename: 'Mutation',\n        updatePerson: {\n          __typename: 'Person',\n          id,\n          firstName,\n          lastName\n        }\n      }\n    })\n    props.onButtonClick()\n  }\n\n  const updateStateVariable = (variable, value) => {\n    switch (variable) {\n      case 'firstName':\n        props.updateStateVariable('firstName', value)\n        setFirstName(value)\n        break\n      case 'lastName':\n        props.updateStateVariable('lastName', value)\n        setLastName(value)\n        break\n      default:\n        break\n    }\n  }\n\n  return (\n    <Form\n      form={form}\n      name='update-person-form'\n      layout='inline'\n      onFinish={onFinish}\n      initialValues={{\n        firstName: firstName,\n        lastName: lastName\n      }}\n      size='large'\n    >\n      <Form.Item\n        name='firstName'\n        label='First Name'\n        rules={[{ required: true, message: 'Please input your first name!' }]}\n      >\n        <Input\n          placeholder='i.e. John'\n          onChange={e => updateStateVariable('firstName', e.target.value)}\n        />\n      </Form.Item>\n      <Form.Item\n        name='lastName'\n        label='Last Name'\n        rules={[{ required: true, message: 'Please input your last name!' }]}\n      >\n        <Input\n          placeholder='i.e. Smith'\n          onChange={e => updateStateVariable('lastName', e.target.value)}\n        />\n      </Form.Item>\n      <Form.Item shouldUpdate={true}>\n        {() => (\n          <Button\n            type='primary'\n            htmlType='submit'\n            disabled={\n              (!form.isFieldTouched('firstName') &&\n                !form.isFieldTouched('lastName')) ||\n              form.getFieldsError().filter(({ errors }) => errors.length).length\n            }\n          >\n            Update Person\n          </Button>\n        )}\n      </Form.Item>\n      <Button onClick={props.onButtonClick}>Cancel</Button>\n    </Form>\n  )\n}\n\nexport default UpdatePerson\n"]},"metadata":{},"sourceType":"module"}